<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/styles/csshake.min.css">
    <link rel="stylesheet" type="text/css" href="/styles/zenburn.css">
    <link rel="stylesheet" type="text/css" href="/styles/planspace.css">
    <title>Statistical Rethinking, by McElreath</title>
  </head>
  <body>
    <article>
<h1>Statistical Rethinking, by McElreath</h1>
<p class="date">Saturday May  8, 2021</p>
<p>I was fortunate to read this <a href="https://xcelab.net/rm/statistical-rethinking/">excellent book</a>. It's opinionated,
often quotable, and a fair summary is that "you can imagine your own
generative process, simulate data from it, write the model, and verify
that it recovers the true parameter values. You don't have to wait for
a mathematician to legalize the model you need." (page 376)
Recommended.</p>
<blockquote>
<p>"Thinking generatively—how the data could arise—solves many
problems. Many statistical problems cannot be solved with
statistics. All variables are measured with error. Conditioning on
variables creates as many problems as it solves. There is no
inference without assumption, but do not choose your assumptions for
the sake of inference. Build complex models one piece at a time. Be
critical. Be kind." (page 553)</p>
</blockquote>
<p>Notes by chapter:</p>
<ol>
<li><a href="#ch1">The Golem of Prague</a> (statistics, models, science)</li>
<li><a href="#ch2">Small Worlds and Large Worlds</a> (Bayes' theorem)</li>
<li><a href="#ch3">Sampling the Imaginary</a> (priors and posteriors)</li>
<li><a href="#ch4">Geocentric Models</a> (linear regression)</li>
<li><a href="#ch5">The Many Variables &amp; The Spurious Waffles</a></li>
<li><a href="#ch6">The Haunted DAG &amp; The Causal Terror</a></li>
<li><a href="#ch7">Ulysses' Compass</a> (overfitting)</li>
<li><a href="#ch8">Conditional Manatees</a> (interactions)</li>
<li><a href="#ch9">Markov Chain Monte Carlo</a></li>
<li><a href="#ch10">Big Entropy and the Generalized Linear Model</a></li>
<li><a href="#ch11">God Spiked the Integers</a> (GLMs for counts)</li>
<li><a href="#ch12">Monsters and Mixtures</a> (over-dispersion, ordered categories)</li>
<li><a href="#ch13">Models with Memory</a> (varying effects)</li>
<li><a href="#ch14">Adventures in Covariance</a></li>
<li><a href="#ch15">Missing Data and Other Opportunities</a></li>
<li><a href="#ch16">Generalized Linear Madness</a> (beyond GLMs)</li>
<li><a href="#ch17">Horoscopes</a> (conclusion)</li>
</ol>
<p><img alt="cover" src="cover.jpg" /></p>
<hr />
<h3><a name="ch1" href="#ch1">Chapter 1: The Golem of Prague</a></h3>
<p>statistics, models, science</p>
<hr />
<blockquote>
<p>"What researchers need is some unified theory of golem engineering,
a set of principles for designing, building, and refining
special-purpose statistical procedures. Every major branch of
statistical philosophy possesses such a unified theory. But the
theory is never taught in introductory—and often not even in
advanced—courses. So there are benefits in rethinking statistical
inference as a set of strategies, instead of a set of pre-made
tools." (page 4)</p>
</blockquote>
<hr />
<p>I think there's a little bit of linguistic confusion between
scientific hypotheses ("I think the world works like...") and
statistical hypotheses (also called "Statistical models" in Figure
1.2).</p>
<hr />
<blockquote>
<p>"... deductive falsification never works." (page 4)</p>
</blockquote>
<p>I think this is too strong.</p>
<hr />
<blockquote>
<p>"<em>modus tollens</em>, which is Latin shorthand for “the method of
destruction.”" (page 7)</p>
</blockquote>
<hr />
<p>also: importance of <em>measurement</em></p>
<hr />
<p>He has some neat examples of evidence that's not trivial to infer
from - whether the ivory-billed woodpecker was extinct, and
faster-than-light neutrinos... To these, also add the Piltdown Man
fraud.</p>
<hr />
<h3><a name="ch2" href="#ch2">Chapter 2: Small Worlds and Large Worlds</a></h3>
<p>Bayes' theorem</p>
<hr />
<p>Neat counting example in 2.1! I tried to write up
<a href="/2013/11/11/whats-the-difference-between-bayesian-and-non-bayesian-statistics/">a similar example</a> (inspired by <a href="http://www.stat.columbia.edu/~gelman/book/">Gelman</a>) some years ago...</p>
<hr />
<p>In note 41, from page 24, McElreath advocates <a href="https://en.wikipedia.org/wiki/Cox%27s_theorem">Cox</a>-style
probability.</p>
<hr />
<p>I also wrote up (still years ago) a <a href="/2014/02/23/bayes-rule-for-ducks/">cute example</a> trying to explain
Bayes' rule, but I think it's pretty crummy relative to his
development through sections 2.1.2 and 2.1.3.</p>
<hr />
<p>I kind of miss seeing "evidence" in Bayes' rule... Maybe I like this,
with "explanation" for the other term?</p>
<pre><code>P(explanation|evidence) = P(evidence|explanation) * P(explanation)
                          ----------------------------------------
                                        P(evidence)</code></pre>

<p>(The P's everywhere would kind of obfuscate the nice counting
development he was using, but still...)</p>
<p>Then, note that <code>P(evidence|explanation)</code> is the "likelihood" of the
evidence, and that we're going to talk about that a lot.</p>
<hr />
<p>Ah, here on page 37 is his version:</p>
<pre><code>Posterior = Probability of the data * Prior
            -------------------------------
            Average probability of the data</code></pre>

<p>Also nice! He reminds me that I'm using "evidence" (above) in a
different way from using it to mean the denominator there...</p>
<p>There's also the way of doing it that's more like this:</p>
<pre><code>Posterior =     Probability of the data     * Prior
            -------------------------------
            Average probability of the data</code></pre>

<p>And then we can talk about the first term as the likelihood ratio,
which is kind of nice, but makes it less clear that the denominator is
a normalizer that can often be mostly ignored...</p>
<p>Likelihood ratio is a nice thing to think about, especially in
connection with Polya's "plausible reasoning"... Evidence that is
<em>only</em> consistent with the explanation (and no other) increases
confidence a lot.</p>
<p>There's also a nice connection to the error mode of getting the
denominator wrong and jumping to conclusions when you don't know of
another possible explanation. "I didn't think you were planning a
surprise party!" etc.</p>
<p>I don't really like "average probability of the data" as a term, I
think...</p>
<hr />
<p>On page 39, he doesn't include Hamiltonian Monte Carlo as one of the
"engines"... Is it a type of MCMC? Ah, <a href="https://en.wikipedia.org/wiki/Hamiltonian_Monte_Carlo">yes</a>.</p>
<hr />
<p>Oh no! Very ugly page break from 42 to 43, with the header of a table
separated from its contents...</p>
<hr />
<p>Interesting; really not explaining what's going on with <code>dbeta</code>,
conjugate priors, etc... Probably fine?</p>
<hr />
<p>Wow! I do not understand how this Metropolis algorithm on page 45
works! I guess I can wait until Chapter 9.</p>
<hr />
<p>Ooh fun, some people have problem solutions online... Here's one:</p>
<ul>
<li>https://github.com/cavaunpeu/statistical-rethinking</li>
</ul>
<hr />
<h3><a name="ch3" href="#ch3">Chapter 3: Sampling the Imaginary</a></h3>
<p>priors and posteriors</p>
<hr />
<p>I'm reading Ellenberg's <a href="/20200925-how_not_to_be_wrong_by_ellenberg/">How Not to Be Wrong</a>, and he says on page
49: "In mathematics, you very seldom get the clearest account of an
idea from the person who invented it."</p>
<p>I have that feeling in connection with Gelman and Pearl (not sure they
completely invented things they're associated with, but still): I feel
like McElreath is doing a better job of explaining things, and it's
super nice.</p>
<p>Also Ellenberg:</p>
<blockquote>
<p>"If a tiny state like South Dakota experiences a rash of brain
cancer, you might presume that the spike is in large measure due to
luck, and you might estimate that the rate of brain cancer in the
future is likely to be closer to the overall national number. You
could accomplish this by taking some kind of weighted average of the
South Dakota rate with the national rate. But how to weight the two
numbers? That's a bit of an art, involving a fair amount of
technical labor I'll spare you here." (pages 70-71)</p>
</blockquote>
<p>I think he's referring to <a href="https://en.wikipedia.org/wiki/Multilevel_model">multi-level modeling</a>, in the Gelman
style.</p>
<hr />
<p>This common medical testing scenario appeared in a recent
LearnedLeague one-day on statistics:</p>
<blockquote>
<p>"Suppose that 1% of a population has a particular genetic mutation,
and a test for the mutation is 99% accurate for both positive and
negative cases. In other words, if someone with the mutation takes
the test, there is a 99% chance that the test comes back positive;
if someone without the mutation takes the test, there is a 99%
chance that the test comes back negative. If a randomly-selected
person takes the test and gets a positive result, what is the
probability that the person actually has the mutation? (Express your
answer as a fraction in lowest terms.)"</p>
</blockquote>
<p>I solved it by seeing that 0.01 * 0.99 == 0.99 * 0.01, which is sort
of like what McElreath says is called "frequency format" or "natural
frequencies." I definitely thought of it in terms of "quantity," but
as percentages rather than counts. I was surprised when Erica referred
to the problem as "the Bayesian" problem, because I hadn't thought of
it that way. So I agree with McElreath that it isn't uniquely Bayesian.</p>
<hr />
<blockquote>
<p>"Changing the representation of a problem often makes it easier to
address or inspires new ideas that were not available in an old
representation. In physics, switching between Newtonian and
Lagrangian mechanics can make problems much easier. In evolutionary
biology, switching between inclusive fitness and multilevel
selection sheds new light on old models. And in statistics,
switching between Bayesian and non-Bayesian representations often
teaches us new things about both approaches." (page 50)</p>
</blockquote>
<hr />
<blockquote>
<p>"I avoid discussing the analytical approach
[of conjugate priors, etc.] in this book, because very few problems
are so simple that they have exact analytical solutions like this
[the beta-binomial conjugate prior]." (page 560, note for page 51)</p>
</blockquote>
<hr />
<p>The "Why statistics can't save bad science" box on page 51 is neat.</p>
<hr />
<p>Just to establish equivalence between R and Python...</p>
<pre><code class="language-r">dbinom(6, size=9, prob=0.5)
## [1] 0.1640625</code></pre>

<pre><code class="language-python">import scipy.stats
scipy.stats.binom(n=9, p=0.5).pmf(6)
## 0.16406250000000006</code></pre>

<hr />
<p>Interesting: using "compatibility interval" rather than "credible
interval" (or "confidence interval") in the sense of "compatible with
the model and data." (page 54)</p>
<hr />
<blockquote>
<p>"Overall, if the choice of interval type
[percent interval or highest posterior density interval] makes a big
difference, then you shouldn't be using intervals to summarize the
posterior." (page 58)</p>
</blockquote>
<hr />
<blockquote>
<p>"There is no way to really be sure that software works correctly."
(page 64)</p>
</blockquote>
<hr />
<p>Hmm; his HPDI (Highest Posterior Density Interval) <a href="https://github.com/rmcelreath/rethinking/blob/3b48ec8dfda4840b9dce096d0cb9406589ef7923/R/utilities.r#L106">implementation</a>
itself relies on the implementation in <a href="https://cran.r-project.org/package=coda">coda</a>...</p>
<p>How hard is this really to implement? If you have a histogram or just
sorted counts, every left point determines one interval, so you could
do it in one pass with a little farting around to find the right point
each time, and a running smallest interval... Really not so
computation-intensive.</p>
<hr />
<pre><code class="language-r">birth1 &lt;- c(1,0,0,0,1,1,0,1,0,1,0,0,1,1,0,1,1,0,0,0,1,0,0,0,1,0,
0,0,0,1,1,1,0,1,0,1,1,1,0,1,0,1,1,0,1,0,0,1,1,0,1,0,0,0,0,0,0,0,
1,1,0,1,0,0,1,0,0,0,1,0,0,1,1,1,1,0,1,0,1,1,1,1,1,0,0,1,0,1,1,0,
1,0,1,1,1,0,1,1,1,1)
birth2 &lt;- c(0,1,0,1,0,1,1,1,0,0,1,1,1,1,1,0,0,1,1,1,0,0,1,1,1,0,
1,1,1,0,1,1,1,0,1,0,0,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,0,1,1,0,1,1,0,1,1,1,0,0,0,0,0,0,1,0,0,0,1,1,0,0,1,0,0,1,1,
0,0,0,1,1,1,0,0,0,0)
table(birth1, birth2)
##        birth2
##  birth1  0  1
##       0 10 39
##       1 30 21</code></pre>

<p>So really, what <em>is</em> up with this data?</p>
<hr />
<h3><a name="ch4" href="#ch4">Chapter 4: </a></h3>
<p>linear regression</p>
<hr />
<blockquote>
<p>"Linear regression is the geocentric model of applied statistics."
(page 71)</p>
</blockquote>
<hr />
<p>Frank's <a href="https://onlinelibrary.wiley.com/doi/pdf/10.1111/j.1420-9101.2009.01775.x">The common patterns of nature</a> seems pretty neat, getting
into how common distributions come from processes and information
considerations...</p>
<hr />
<blockquote>
<p>"Multiplying small numbers is approximately the same as addition."
(page 74)</p>
</blockquote>
<hr />
<p>On page 76 he shows "precision" as τ, meaning 1/σ^2, and it shows up
in the equation for the Gaussian with π, which is an example of
notation that doesn't work particularly well with
<a href="https://tauday.com/">the tau manifesto</a>.</p>
<hr />
<p>"procrustean" (on page 77): "(especially of a framework or system)
enforcing uniformity or conformity without regard to natural variation
or individuality."</p>
<hr />
<p>I like the <a href="https://en.wikipedia.org/wiki/Sparkline">spark</a> histograms!</p>
<p>Oh, neat, they're even <a href="https://github.com/rmcelreath/rethinking/blob/f9c16bb7faec8a9883d976a769824b1764d12540/R/precis.r#L72">called</a> "histosparks"...</p>
<p>And I might have guessed... they're <a href="https://rdrr.io/github/hadley/precis/src/R/histospark.R">from</a> Hadley.</p>
<p>So there are unicode characters that do blocks of various sizes, by
eighths... It looks like Hadley only uses some of them:</p>
<pre><code class="language-r">sparks &lt;- c("\u2581", "\u2582", "\u2583", "\u2585", "\u2587")
#             1/8       2/8       3/8       5/8       7/8</code></pre>

<p>Can look these up for example here: https://www.fileformat.info/info/unicode/char/2581/index.htm</p>
<p>" ▁▂▃▄▅▆▇█" has all the heights, with a normal blank at the beginning.</p>
<p>So why does Hadley only use some of the available heights? Not sure.</p>
<p>Oh look at that! In my terminal those all look fine, but in a browser (maybe it depends on font?) the half and full blocks go lower than the others! Still doesn't explain why 6/8 is missing from Hadley's list... Maybe it looks bad in other fonts?</p>
<p>Let's try it fixed-width:</p>
<pre><code> ▁▂▃▄▅▆▇█</code></pre>

<p>Yup, looks much nicer in fixed width.</p>
<p>Here's another nice place to see these: https://en.wikipedia.org/wiki/Block_Elements</p>
<hr />
<blockquote>
<p>"E. T. Jaynes (1922-1988) called this the <em>mind projection fallacy</em>,
the mistake of confusing epistemological claims with ontological
claims." (page 81)</p>
</blockquote>
<p>And a fun reference to <a href="https://bayes.wustl.edu/etj/articles/cmonkeys.pdf">Monkeys, Kangaroos, and N</a>:</p>
<blockquote>
<p>"... I think you will find that 90% of the past confusions and
controversies in statistics have been caused, not by mathematical
errors or even ideological differences; but by the technical
difficulty that the two parties had different problems in mind, and
failed to realize this. Thinking along different lines, each failed
to perceive at all what the other considered too obvious to
mention." (Jaynes)</p>
</blockquote>
<hr />
<blockquote>
<p>"There's also a tradition called <em>dimensionless analysis</em> that
advocates constructing variables so that they are unit-less ratios."
(page 94)</p>
</blockquote>
<p>I haven't heard about this as such, I think. Dimension_al_ analysis is
more well known, but not quite the same thing...</p>
<hr />
<p>Interesting to recall that in the first edition, what's now called
<code>quap</code> (quadratic approximation posterior / a posteriori?) was called
<code>map</code> (maximum a posteriori?)</p>
<hr />
<blockquote>
<p>"My experience is that many natural and social scientists have
naturally forgotten whatever they once knew about logarithms." (page
98)</p>
</blockquote>
<hr />
<blockquote>
<p>"... most social and natural scientists have never had much training
in probability theory and tend to get very nervous around ∫'s."
(page 106)</p>
</blockquote>
<hr />
<p>He repeats it in different ways here and there, but I noted it again
on page 107: I like his effort at clarity between "small world" and
"large world" claims, where small world is "assuming the model" or "in
the world of the model."</p>
<hr />
<p>When doing the quadratic example, he z-scores but does not
decorrelate... The default behavior in R (using <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/poly">poly</a>) is to
"compute orthogonal polynomials"... I'm not sure how common that is
elsewhere.</p>
<p>Okay I'll look at sklearn... Here's somebody with a nice Python
implementation:
http://davmre.github.io/blog/python/2013/12/15/orthogonal_poly But as
far as I can tell there isn't anything "built in" for Python...</p>
<hr />
<p>page 111: <code>weight.s</code> is used in one listing, while <code>weight_s</code> is used
in another, which is a very mild kind of inconsistency. (<a href="https://github.com/rmcelreath/rethinking/pull/279">PR</a>)</p>
<hr />
<blockquote>
<p>"We should feel embarrassed to use [linear models], just so we don't
become satisfied with the phenomenological explanations they
provide." (page 113)</p>
</blockquote>
<hr />
<p>I really liked section 4.5.2 on splines; I don't think I ever saw a
good explanation of splines before.</p>
<hr />
<blockquote>
<p>"Matrix algebra is a stressful topic for many scientists." (page 119)</p>
</blockquote>
<hr />
<p>In both R listings 4.76 and 4.79, it's a little unintuitive to me in
that it doesn't seem obvious that <code>w</code> is a vector. In <code>w ~ dnorm(0,
10)</code>, that <code>dnorm</code> returns just one number. Somewhere <code>quap</code> is
figuring out how many elements it needs, I guess?</p>
<hr />
<p>For question 4H8 on page 122, it asks what else would have to change
if the intercept was removed from the model. I think the answer is
just the priors on the other coefficient(s), since they'd have to get
the mean all the way to where it needs to be by themselves then.
And/or maybe the data couldn't be centered, because making the mean
zero would really hurt the ability to have the result be right? It
would still be okay if both x and y were centered, at least for simple
designs.</p>
<hr />
<h3><a name="ch5" href="#ch5">Chapter 5: The Many Variables &amp; The Spurious Waffles</a></h3>
<hr />
<blockquote>
<p>"... introduce graphical causal models as a way to design and
interpret regression models." (page 124)</p>
</blockquote>
<hr />
<blockquote>
<p>"About one thing, however, there is general agreement: Causal
inference always depends upon unverifiable assumptions." (page 124)</p>
</blockquote>
<hr />
<blockquote>
<p>"Think before you regress" (page 128)</p>
</blockquote>
<p>In the first paragraph of 5.1.1, I don't really see how Figure 5.2
tells us that only one of the predictor variables has a causal
influence...</p>
<hr />
<p>I really like <a href="http://www.dagitty.net/">dagitty</a>. Learning about it is one of the best things
in the book, in that I was wishing to find such software while reading
<a href="https://planspace.org/20200917-book_of_why/">The Book of Why</a> but didn't.</p>
<p>It is a little weird that the web interface uses ⊥ (falsum)... Hmm;
<a href="https://en.wikipedia.org/wiki/Up_tack">looking it up</a>, it seems it's the same symbol as <code>\perp</code>, which is
used for independence. Ah! The "double tack up" (⫫) is for conditional
independence! The web interface still uses ⊥ for both kinds of
independence.</p>
<hr />
<blockquote>
<p>"This is very weird notation and any feelings of annoyance on your
part are justified." (page 130)</p>
</blockquote>
<hr />
<p>The <code>coeftab</code> visualization (see page 133) is pretty nice.</p>
<hr />
<p>It took me a little bit to understand what he was getting at with the
"predictor residual plots" (page 135) but I'm glad I did, since it
connects to one of his main points about how multiple regression is
about how much a variable adds given all the other variables.</p>
<hr />
<blockquote>
<p>"Usually answers to large world questions about truth and causation
depend upon information not included in the model." (page 139)</p>
</blockquote>
<hr />
<p>The section 5.2 "Masked relationship" is neat.</p>
<hr />
<blockquote>
<p>"Taking the log of a measure translates the measure into
magnitudes." (page 148)</p>
</blockquote>
<p>What use of "magnitude" is this? Hmm... Looks like star brightness is
done via a log that is called magnitude... Just weird, because in
other domains "magnitude" refers to the <em>un</em>-logged value...</p>
<p>Seems like this is less surprising to others, and it makes sense as "<em>order of</em> magnitude."</p>
<hr />
<blockquote>
<p>"A set of DAGs with the same conditional independencies is known as
a Markov equivalence set." (page 151)</p>
</blockquote>
<hr />
<p>I was unfamiliar with <a href="https://en.wikipedia.org/wiki/Melanesia">Melanesia</a>.</p>
<hr />
<p>One page 155, he makes index variables seem fundamentally different
from indicator variables. Their notation in <code>quap</code> is different (and
nicer) but fundamentally the only difference is with index variables
you drop the intercept term (or equivalently, you have separate
intercept terms for each thing). Just reading through, I initially
thought his index variables were a real novelty, but they're not. (I'm
still curious about where he says on page 156 "It is also important to
get used to index variables, because multilevel models (Chapter 13)
depend upon them.")</p>
<hr />
<blockquote>
<p>"The mistake of accepting the null hypothesis." (page 158)</p>
</blockquote>
<hr />
<p>Question 5E3 on page 159 jokes (I think?) about the effects of amount
of funding and size of laboratory on time to PhD, but I'm not sure I
know what he thinks is funny...</p>
<hr />
<h3><a name="ch6" href="#ch6">Chapter 6: The Haunted DAG &amp; The Causal Terror</a></h3>
<hr />
<p>On page 161 he starts with Berkson's Paradox, suggesting
"selection-distortion effect" as a better name. Dave suggested a nice
example: shorter basketball players in the NBA are better 3 point
shooters.</p>
<hr />
<blockquote>
<p>"Let's bein with the least of your worries: multicollinearity."
(page 163)</p>
</blockquote>
<p>This can "smear out" your estimates, because it isn't clear which
variables to put beta weight on.</p>
<hr />
<p>Section 6.2 (page 170) uses "post-treatment bias" to refer to what I
might call a mediator, and what he later calls a "pipe" situation
(page 185).</p>
<hr />
<blockquote>
<p>"The "d" [in d-separation] stands for <em>directional</em>." (page 174)</p>
<p>"You'll often see the "d" in d-separation defined as "dependency."
That would certainly make more sense. But the term d-separation
comes from a more general theory of graphs. Directed graphs involve
d-separation and undirected graphs involve instead u-separation."
(page 563)</p>
</blockquote>
<hr />
<blockquote>
<p>"No statistical procedure can substitute for scientific knowledge
and attention to it." (page 175)</p>
</blockquote>
<hr />
<blockquote>
<p>"If a procedure cannot figure out the truth in a simulated example,
we shouldn't trust it in a real one." (page 177)</p>
</blockquote>
<hr />
<blockquote>
<p>"So I'm sorry to say that we also have to consider the possibility
that our DAG may be haunted." (page 180)</p>
</blockquote>
<p>The thing haunting it (as in the title of the chapter) is unmeasured
causes that induce collider bias, which means conditioning on things
we have can induce bias about effects we're trying to measure.</p>
<hr />
<p>I like "the four elemental confounds" on page 185. They're pretty
similar to the cases I included in
<a href="https://planspace.org/20200912-what_should_be_in_your_regression/">What should be in your regression?</a>.</p>
<hr />
<p>The explanation of shutting the back-door on pages 184-185 is better
than others I've seen, I think. And then on page 186 he shows how
everybody's favorite <a href="http://www.dagitty.net/">dagitty</a> can do it automatically.</p>
<p>Front-door isn't mentioned until page 460.</p>
<hr />
<p>On page 186, he says "Conditioning on C is the better idea, from the
perspective of efficiency, since it could also help with the precision
of the estimate of X➔Y." This seems reasonable since C is closer to Y,
but I feel like a little more explanation wouldn't have been a bad
thing here.</p>
<hr />
<blockquote>
<p>"In fact, domain specific structural causal models can make causal
inference possible even when a DAG with the same structure cannot
decide how to proceed." (page 188)</p>
</blockquote>
<p>Say more? Like, a footnote? An endnote? Some kind of reference to more
information? Seems so mysterious!</p>
<hr />
<blockquote>
<p>"Sometimes, in order to avoid multicollinearity, people inspect
pairwise correlations among predictors before including them in a
model. This is a bad procedure, because what matters it the
conditional association, not the association before the variables
are included in the model." (page 189)</p>
</blockquote>
<hr />
<h3><a name="ch7" href="#ch7">Chapter 7: Ulysses' Compass</a></h3>
<p>overfitting</p>
<hr />
<ul>
<li>7.1. The problem with parameters</li>
<li>7.2. Entropy and accuracy</li>
<li>7.3. Golem taming: regularization</li>
<li>7.4. Predicting predictive accuracy</li>
<li>7.5. Model comparison</li>
</ul>
<hr />
<p>McElreath has slides and video of his lectures <a href="https://github.com/rmcelreath/statrethinking_winter2019">online</a>.</p>
<hr />
<blockquote>
<p>"This chapter describes some of the most commonly used tools for
coping with this trade-off." (page 191, referring to the trade-off
between simplicity and accuracy)</p>
</blockquote>
<p>There's some parallel between statistical models and scientific models
generally; see <a href="https://planspace.org/20170825-characteristics_of_good_theories/">Characteristics of good theories</a>.</p>
<hr />
<blockquote>
<p>"... when we design any particular statistical model, we must decide
whether we want to understand causes or rather just predict." (page
192)</p>
</blockquote>
<hr />
<p>"Stargazing" is a cute way to criticize fixation on stars that
represent statistical significance. (page 193)</p>
<hr />
<p>On page 194 he uses "hominin" which I wasn't familiar with. Hominins
refers to humans and chimps. Add gorillas and you get hominines. Add
orangutans to that and you get hominids.</p>
<hr />
<blockquote>
<p>"In fact, Carl Friedrich Gauss originally derived the OLS procedure
in a Bayesian framework." (page 196)</p>
</blockquote>
<p>He loves pointing out this kind of thing.</p>
<hr />
<blockquote>
<p>"The point of this example is not to praise R<sup>2</sup> but to
bury it." (page 197)</p>
</blockquote>
<p>This alludes to Shakespeare's famous Marc Antony speech in Julius
Caesar: "I come to bury Caesar, not to praise him."</p>
<hr />
<blockquote>
<p>"This means the <em>actual</em> empirical variance, not the variance that R
returns with the <code>var</code> function, which is a frequentist estimator
and therefore has the wrong denominator." (page 197)</p>
</blockquote>
<p>Saucy!</p>
<hr />
<blockquote>
<p>"... model fitting can be considered a form of data compression. ...
This view of model selection is often known as minimum description
length (MDL)." (page 201)</p>
</blockquote>
<p>Wikipedia <a href="https://en.wikipedia.org/wiki/Minimum_description_length">says</a> "In its most basic form, MDL is a model selection
principle: the shortest description of the data as the best model."</p>
<p>McElreath points to <a href="https://homepages.cwi.nl/~pdg/publicationpage.html">Grünwald's</a> The Minimum Description Length
Principle.</p>
<hr />
<p>He's trying to develop "out-of-sample deviance" in 7.2 "Entropy and
accuracy" starting page 202.</p>
<hr />
<p>"Likelihood" as in the likelihood of the data, given the model, on
page 204. And he <em>really</em> likes it:</p>
<blockquote>
<p>"If you see an analysis using something else, either it is a special
case of the log scoring rule or it is possibly much worse."</p>
</blockquote>
<hr />
<p>Interesting "Rethinking" box on page 204:</p>
<blockquote>
<p>"Calibration is overrated. ... The problem is that calibrated
predictions do not have to be good."</p>
</blockquote>
<p>It has an endnote on page 563 that includes:</p>
<blockquote>
<p>"Strictly speaking, there are no "true" probabilities of events,
because probability is epistemological and nature is deterministic."</p>
</blockquote>
<hr />
<p>On page 207 he points out that when probability is zero, L'Hopital's
rule gives us 0*log(0) = 0.</p>
<hr />
<p>Endnote 110 on page 564 begins:</p>
<blockquote>
<p>"I really wish I could say there is an accessible introduction to
maximum entropy, at the level of most natural and social scientists'
math training. If there is, I haven't found it yet."</p>
</blockquote>
<p>On page 207 he just says:</p>
<blockquote>
<p>"So Bayesian updating is entropy maximization."</p>
</blockquote>
<hr />
<p>He just says "divergence" to mean Kullback-Leibler divergence, and
adds in endnote 111 on page 564:</p>
<blockquote>
<p>"For what it's worth, Kullback and Leibler make it clear in their
1951 paper that Harold Jeffreys had used this measure already in the
development of Bayesian statistics."</p>
</blockquote>
<p>There he goes again!</p>
<hr />
<blockquote>
<p>"In plainer language, the divergence is <em>the average difference in
log probability between the target (p) and model (q)</em>. This
divergence is just the difference between two entropies: The entropy
of the target distribution <em>p</em> and the <em>cross entropy</em> arising from
using <em>q</em> to predict <em>p</em>."</p>
</blockquote>
<hr />
<blockquote>
<p>"At this point in the chapter, dear reader, you may be wondering
where the chapter is headed." (page 209)</p>
</blockquote>
<hr />
<blockquote>
<p>"It's as if we can't tell how far any particular archer is from
hitting the target, but we can tell which archer gets closer and by
how much." (page 209)</p>
</blockquote>
<hr />
<blockquote>
<p>"To compute this [log-probability] score for a Bayesian model, we
have to use the entire posterior distribution. Otherwise, vengeful
angels will descend upon you." (page 210)</p>
</blockquote>
<p>His package has <code>lppd</code> for "log-pointwise-predictive-density."</p>
<blockquote>
<p>"It is also quite common to see something called the deviance, which
is like a lppd score, but multiplied by -2 so that smaller values
are better. The 2 is there for historical reasons."</p>
</blockquote>
<p>There's more explanation in endnote 112 on page 564:</p>
<blockquote>
<p>"In non-Bayesian statistics, under somewhat general conditions, a
difference between two deviances has a chi-squared distribution. The
factor of 2 is there to scale it the proper way."</p>
</blockquote>
<p>(Recall we're interested in the difference between these things; they
don't have a meaningful scale on their own.)</p>
<hr />
<p>I was briefly befuddled by the positive log-likelihoods on page 210,
but of course it's the point density, not probability, and the density
can be greater than one.</p>
<hr />
<p>On page 211 he talks about <code>log_sum_exp</code> which "takes all the
log-probabilities for a given observation, exponentiates each, sums
them, then takes the log. But it does this in a way that is
numerically stable."</p>
<p>I had cause to do this recently! It comes down to this:</p>
<pre><code class="language-python">import math

def sum_log_prob(a, b):
    return max(a, b) + math.log1p(math.exp(0 - abs(a - b)))</code></pre>

<p>I based that on a <a href="https://gasstationwithoutpumps.wordpress.com/2014/05/06/sum-of-probabilities-in-log-prob-space/">post from Kevin Karplus</a>.</p>
<p>McElreath's is:</p>
<pre><code class="language-r">log_sum_exp &lt;- function( x ) {
    xmax &lt;- max(x)
    xsum &lt;- sum( exp( x - xmax ) )
    xmax + log(xsum)
}</code></pre>

<p>(<a href="https://rdrr.io/github/rmcelreath/rethinking/src/R/distributions.r">Found</a> on rdrr.)</p>
<hr />
<blockquote>
<p>"That [two-parameter] model does worse in prediction than the model
with only 1 parameter, even though the true model does include the
additional predictor. This is because with only N=20 cases, the
imprecision of the estimate for the first predictor produces more
error than just ignoring it." (page 213)</p>
</blockquote>
<hr />
<blockquote>
<p>"When you encounter multilevel models in Chapter 13, you'll see that
their central device is to learn the strength of the prior from the
data itself. So you can think of multilevel models as adaptive
regularization, where the model itself tries to learn how skeptical
it should be." (page 216)</p>
</blockquote>
<hr />
<blockquote>
<p>"Statisticians often make fun of machine learning for reinventing
statistics under new names. But regularization is one area where
machine learning is more mature. Introductory machine learning
courses usually describe regularization. Most introductory
statistics courses do not." (page 216)</p>
</blockquote>
<hr />
<p>Section 7.4 (page 217) is "predicting predictive accuracy."</p>
<hr />
<blockquote>
<p>"It is a benign aspect of the universe that this importance
[of individual examples] can be estimated without refitting the
model." (page 217)</p>
</blockquote>
<hr />
<p>"PSIS" is "Pareto-smoothed importance sampling cross-validation."
(page 217)</p>
<hr />
<blockquote>
<p>"For ordinary linear regression with flat priors, the expected
overfitting penalty is about twice the number of parameters." (page
219)</p>
</blockquote>
<hr />
<blockquote>
<p>"AIC is of mainly historical interest now." (page 219)</p>
</blockquote>
<hr />
<p>It seems like WAIC can only be used when you have a posterior
distribution, since it relies on variance of those predictions...</p>
<hr />
<blockquote>
<p>"... in the natural and social sciences the models under
consideration are almost never the data-generating models. It makes
little sense to attempt to identify a "true" model." (page 221)</p>
</blockquote>
<hr />
<blockquote>
<p>"Watanabe recommends computing both WAIC and PSIS and contrasting
them. If there are large differences, this implies one or both
criteria are unreliable.</p>
<p>"Estimation aside, PSIS has a distinct advantage in warning the user
about when it is unreliable." (page 223)</p>
</blockquote>
<hr />
<blockquote>
<p>"A very common use of cross-validation and information criteria is
to perform model selection, which means choosing the model with the
lowest criterion value and then discarding the others. But you
should never do this." (page 225)</p>
</blockquote>
<hr />
<p>Endnote 133 references
<a href="https://www.fooledbyrandomness.com/violencenobelsymposium.pdf">The Decline of Violent Conflicts: What Do The Data Really Say?</a> which is interesting.</p>
<hr />
<blockquote>
<p>"This chapter has been a marathon." (page 235)</p>
</blockquote>
<p>And then the chapter summary doesn't even mention cross-validation!</p>
<hr />
<p>Acronyms:</p>
<ul>
<li>AIC: Akaike Information Criterion</li>
<li>BIC: Bayesian Information Criterion (aka Schwarz criterion)</li>
<li>CV: Cross-Validation</li>
<li>DIC: Deviance Information Criterion</li>
<li>D_{KL}(p, q): Kullback-Leibler divergence</li>
<li>E: Expectation</li>
<li>H(p): Entropy</li>
<li>H(p, q): Cross-entropy</li>
<li>lppd: Log Pointwise Predictive Density</li>
<li>MAP: Maximum A posteriori Probability (mode of posterior)</li>
<li>MDL: Minimum Description Length</li>
<li>N: sample size</li>
<li>PSIS: Pareto-smoothed importance sampling cross-validation</li>
<li>S(q): Sum of log probabilities</li>
<li>R^2: "variance explained" or "coefficient of determination"</li>
<li>WAIC: [Widely Applicable | Watanabe-Akaike] Information Criterion</li>
</ul>
<hr />
<p>Practice problem 7E1: State the three motivating criteria that define
information entropy.</p>
<ul>
<li>It should change smoothly with changes in the inputs.</li>
<li>When more things could happen, it should go up.</li>
<li>It should add, when you combine things.</li>
</ul>
<hr />
<p>Practice problem 7E2: Suppose a coin is weighted such that, when it is
tossed and lands on a table, it comes up heads 70% of the time. What
is the entropy of this coin?</p>
<p>Well, entropy is the negative sum of p*log(p), so:</p>
<pre><code class="language-python">import math

# Truth (as in Problem 7E1)
p = [0.7, 0.3]

# Entropy, H(p)
H = lambda p: -sum(p_i * math.log(p_i) for p_i in p)
H(p)  # 0.6108643020548935

# Candidate "models"
q = [0.5, 0.5]
r = [0.9, 0.1]

# Cross-Entropy, H(p, q), xH here because Python
xH = lambda p, q: -sum(p_i * math.log(q_i) for p_i, q_i in zip(p, q))
xH(p, q)  # 0.6931471805599453
xH(p, r)  # 0.764527888858692

# KL Divergence, D(p, q)
D = lambda p, q: sum(p_i * math.log(p_i/q_i) for p_i, q_i in zip(p, q))
D(p, q)  # 0.08228287850505178
D(p, r)  # 0.15366358680379852

# D(p, q) = H(p, q) - H(p)
D(p, q) == xH(p, q) - H(p)  # True

# We wish we could do this (use D) but we can't, because we don't have p.

# Data
d = [0, 0, 1]

# Log probability (likelihood) score
S = lambda d, p: sum(math.log(p[d_i]) for d_i in d)
S(d, q)  # -2.0794415416798357
S(d, r)  # -2.513306124309698

# True vs. predictive
S(d, p)  # -1.917322692203401
S(d, [2/3, 1/3])
         # -1.9095425048844388

# Deviance
deviance = lambda d, p: -2 * S(d, q)

# Positive log likelihoods! Gasp!

# Note the log probabilities here are really probabilities, because
# I'm just using point estimates, not real distributions. Really,
# you'll have densities, which can be greater than one.</code></pre>

<hr />
<blockquote>
<p>"Information criteria construct a theoretical estimate of the
relative out-of-sample KL divergence." (page 219)</p>
</blockquote>
<p>And he really likes them, largely forgetting about cross-validation.</p>
<hr />
<h3><a name="ch8" href="#ch8">Chapter 8: Conditional Manatees</a></h3>
<p>interactions</p>
<hr />
<p>Propeller marks on manatees are unpleasant, but DID YOU KNOW you see
those marks so much because they don't kill the manatees, so they're
still around to be seen? Manatees are mostly killed by blunt force
thwacking by the hulls of boats, not their propellers.</p>
<hr />
<blockquote>
<p>"Using GDP to measure the health of an economy is like using heat to
measure the quality of a chemical reaction." (endnote 138, page 565)</p>
</blockquote>
<hr />
<p>Why not split data to condition on some categorical variable? (page
241)</p>
<ul>
<li>For parameters that exist in both parts, "you are essentially
   making two less-accurate estimates instead of pooling all of the
   evidence".</li>
<li>"you can't easily quanitfy that uncertainty" (about "the predictive
   value of distinguishing" your parts)</li>
<li>It makes it hard to use information criteria (the comparison works
   best when the same data is in all the models under comparison)</li>
<li>Multilevel models don't split the data, and derive benefits in
   "borrowing information across categories".</li>
</ul>
<hr />
<p>On page 245, he explains (again?) that using indicator variables is
bad in the sense that it implies more uncertainty in the indicated
class (uncertainty of baseline, plus uncertainty of indicator's
coefficient).</p>
<hr />
<p>On using fancy Greek letters in your model specification:</p>
<blockquote>
<p>"If your reader cannot say the symbol's name, it could make
understanding the model harder." (page 249)</p>
</blockquote>
<hr />
<p>Section 8.2 (page 250) on "Symmetry of interactions" is pretty neat.</p>
<blockquote>
<p>"There is just no way to specify a simple, linear interaction in
which you can say the effect of some variable <em>x</em> depends upon <em>z</em>
but the effect of <em>z</em> does not depend upon <em>x</em>." (page 256)</p>
</blockquote>
<hr />
<p>In endnote 142, McElreath recommends Grafen and Hails'
<a href="https://smile.amazon.com/Statistics-STATISTICS-May-09-2002-MAY-09-2002-Hardcover/dp/B009CPMY4Y/">Modern Statistics for the Life Sciences</a>, saying "It has a rather
unique geometric presentation of some of the standard linear models."
The book has the somewhat surprising subtitle of "Learn to analyse
your own data".</p>
<hr />
<p><a href="https://en.wikipedia.org/wiki/Main_effect">Main effects</a> vs. interaction effects.</p>
<hr />
<p>On weakly informative priors:</p>
<blockquote>
<p>"If you displayed these priors to your colleagues, a reasonable
summary might be, "These priors contain no bias towards positive or
negative effects, and at the same time they very weakly bound the
effects to realistic ranges."" (page 260)</p>
</blockquote>
<hr />
<blockquote>
<p>"While you can't see them in a DAG, interactions can be important
for making accurate inferences." (page 260)</p>
</blockquote>
<hr />
<h3><a name="ch9" href="#ch9">Chapter 9: Markov Chain Monte Carlo</a></h3>
<hr />
<blockquote>
<p>"Researchers rely upon random numbers for the proper design of
experiments." (page 263)</p>
</blockquote>
<hr />
<p>In an endnote, McElreath recommends Kruschke's
<a href="https://sites.google.com/site/doingbayesiandataanalysis/">Doing Bayesian Data Analysis</a>, and it seems like it might be good.</p>
<hr />
<blockquote>
<p>"the combination of parameter values that maximizes posterior
probability, the mode, is not actually in a region of parameter
values that are highly plausible." (page 269)</p>
</blockquote>
<hr />
<blockquote>
<p>"we need MCMC algorithms that focus on the entire posterior at once,
instead of one or a few dimensions at a time like Metropolis and
Gibbs. Otherwise we get stuck in a narrow, highly curving region of
parameter space." (page 270)</p>
</blockquote>
<hr />
<blockquote>
<p>"It appears to be a quite general principle that, whenever there is
a randomized way of doing something, then there is a nonrandomized
way that delivers better performance but requires more thought."
(page 270, quoting E. T. Jaynes)</p>
</blockquote>
<hr />
<blockquote>
<p>"[The U-turn problem] just shows that the efficiency of HMC comes
with the expense of having to tune the leapfrog steps and step size
in each application." (page 274)</p>
</blockquote>
<hr />
<blockquote>
<p>"Fancy HMC samplers ... choose the leapfrog steps and step size for
you ... by conducting a warmup phase in which they try to figure out
which step size explores teh posterior efficiently. If you are
familiar with older algorithms like Gibbs sampling, which use a
burn-in phase, warmup is not like burn-in." (page 274)</p>
</blockquote>
<hr />
<h3><a name="ch10" href="#ch10">Chapter 10: Big Entropy and the Generalized Linear Model</a></h3>
<hr />
<blockquote>
<p>"Indeed, it may be that no one fully understands
[the principle of maximum entropy]." (page 303)</p>
</blockquote>
<hr />
<blockquote>
<p>"[The exponential] distribution is the core of survival and event
history analysis, which is not covered in this book." (page 315)</p>
</blockquote>
<hr />
<blockquote>
<p>"... no regression coefficient ... from a GLM every produces a
constant change on the outcome scale. ... every predictor
essentially interacts with itself, because the impact of a change in
a predictor depends upon the value of the predictor before the
change. More generally, every predictor variable effectively
interacts with every other predictor variable, whether you
explicitly model them as interactions or not." (page 318)</p>
</blockquote>
<hr />
<blockquote>
<p>"Link functions are assumptions." (page 319)</p>
</blockquote>
<p>He suggests sensitivity assumptions, presumably including trying
different link functions, which I think is the closest he comes to
talking about probit regression.</p>
<hr />
<blockquote>
<p>"... even a variable that isn't technically a confounder can bias
inference, once we have a link function." (page 320)</p>
</blockquote>
<hr />
<blockquote>
<p>"Parameter estimates do not by themselves tell you the importancce
of a predictor on the outcome." (page 320)</p>
</blockquote>
<hr />
<blockquote>
<p>"... a big beta-coefficient may not correspond to a big effect on
the outcome." (page 320)</p>
</blockquote>
<hr />
<p>He also points out on page 320 that with a different likelihood (and
so link) function, you can't compare log likelihoods (etc.) any more
because there's an (unknown) normalization constant that's different
between them.</p>
<hr />
<h3><a name="ch11" href="#ch11">Chapter 11: God Spiked the Integers</a></h3>
<p>GLMs for counts</p>
<hr />
<ul>
<li>
<ol>
<li>God spiked the integers</li>
<li>11.1. Binomial regression<ul>
<li>11.1.1. Logistic regression: Prosocial chimpanzees</li>
<li>11.1.2. Relative shark and absolute deer</li>
<li>11.1.3. Aggregated binomial: Chimpanzees again, condensed</li>
<li>11.1.4. Aggregated binomial: Graduate school admissions</li>
</ul>
</li>
<li>11.2. Poisson regression<ul>
<li>11.2.1. Example: Oceanic tool complexity</li>
<li>11.2.2. Negative binomial (gamma-Poisson) models</li>
</ul>
</li>
<li>11.3. Multinomial and categorical models<ul>
<li>11.3.1. Predictors matched to outcomes</li>
<li>11.3.2. Predictors matched to observations</li>
<li>11.3.3. Multinomial in disguise as Poisson</li>
</ul>
</li>
</ol>
</li>
</ul>
<hr />
<blockquote>
<p>"As described in Chapter 10, the Poisson model is a special case of
binomial." (page 323)</p>
</blockquote>
<p>This is a little loose, maybe; Poisson is the limit of binomial, which
isn't quite "a special case" I think...</p>
<p>Logistic regression as a special case of binomial regression, okay.</p>
<hr />
<blockquote>
<p>"There are many ways to construct new variables like this, including
mutant helper functions." (page 327)</p>
</blockquote>
<p>Mutant helper functions? Is this a common term?</p>
<hr />
<blockquote>
<p>"Let's look at these on the outcome scale:" (page 330)</p>
</blockquote>
<p>He shows a table that includes logistic regression coefficients, but
there's really no attempt to interpret them directly, which is
different from some presentations of logistic regression. He goes
directly to showing things on the probability scale. He does then show
some plots on the coefficient scale, and describes them as being "on
the logit scale," but still not a lot of effort spent on connecting
them to changes in odds etc.</p>
<hr />
<blockquote>
<p>"counting the rows in the data table is no longer a sensible way to
assess sample size." (page 340)</p>
</blockquote>
<p>(When using data that is counts of outcomes.)</p>
<hr />
<blockquote>
<p>"This isn't to say that over-parameterizing a model is always a good
idea. But it isn't a violation of any statistical principle." (page
345)</p>
</blockquote>
<hr />
<blockquote>
<p>"Keep in mind that the number of rows is not clearly the same as the
"sample size" in a count model. The relationship between parameters
and "degrees of freedom" is not simple, outside of simple linear
regressions." (page 347)</p>
</blockquote>
<hr />
<blockquote>
<p>"Any rules you've been taught about minimum sample sizes for
inference are just non-Bayesian superstitions." (page 347)</p>
</blockquote>
<hr />
<p>He really seems to want to make gamma-Poisson happen (replacing
negative binomial).</p>
<hr />
<p>Probit doesn't appear anywhere! (At least, I haven't seen it and it
isn't in the index.)</p>
<hr />
<blockquote>
<p>"In general, more than two things can happen." (page 359)</p>
</blockquote>
<hr />
<blockquote>
<p>"The conventional and natural link in this context is the
multinomial logit, also known as the softmax function." (page 359)</p>
</blockquote>
<hr />
<blockquote>
<p>"Another way to fit a multinomial/categorical model is to refactor
it into a series of Poisson likelihoods. That should sound a bit
crazy." (page 363)</p>
</blockquote>
<hr />
<blockquote>
<p>"It is important to never convert counts to proportions before
analysis, because doing so destroys information about sample size."
(page 365)</p>
</blockquote>
<hr />
<h3><a name="ch12" href="#ch12">Chapter 12: Monsters and Mixtures</a></h3>
<p>over-dispersion, ordered categories</p>
<hr />
<blockquote>
<p>"Just be sure to validate it [your model] by simulating dummy data
and then recovering the data-generating process through fitting the
model to the dummy data." (page 369)</p>
</blockquote>
<hr />
<blockquote>
<p>"continuous mixture models in which a linear model is attached not
to the observations themselves but rather to a distribution of
observations." (page 370)</p>
</blockquote>
<hr />
<blockquote>
<p>"... Poisson distributions are very narrow. The variance must equal
the mean, recall." (page 373)</p>
</blockquote>
<hr />
<blockquote>
<p>"You should not use WAIC and PSIS with these
[beta-binomial and gamma-Poisson/negative binomial] models, however,
unless you are very sure of what you are doing. The reason is that
while ordinary binomial and Poisson models can be aggregated and
disaggregated across rows in the data, without changing any causal
assumptions, the same is not true of beta-binomial and gamma-Poisson
models. The reason is that a beta-binomial or gamma-Poisson
likelihood applies an unobserved parameter to each row in the data.
When we then go to calculate log-likelihoods, how the data are
structured will determine how the beta-distributed or
gamma-distributed variation enters the model." (page 375)</p>
</blockquote>
<hr />
<blockquote>
<p>"In the sciences, there is sometimes a culture of anxiety
surrounding statistical inference. It used to be that researchers
couldn't easily construct and study their own custom models, because
they had to rely upon statisticians to properly study the models
first. This led to concerns about unconventional models, concerns
about breaking the laws of statistics. But statistical computing is
much more capable now. Now you can imagine your own generative
process, simulate data from it, write the model, and verify that it
recovers the true parameter values. You don't have to wait for a
mathematician to legalize the model you need." (page 376)</p>
</blockquote>
<p>This could almost be a summary of the book, maybe.</p>
<hr />
<blockquote>
<p>"Just treating ordered categories as continuous measures is not a
good idea."</p>
</blockquote>
<p>He offers the cumulative link function.</p>
<hr />
<blockquote>
<p>"This kind of vector, in which all the values sum to one (or any
other constant), has a special name, a simplex." (page 394)</p>
</blockquote>
<hr />
<h3><a name="ch13" href="#ch13">Chapter 13: Models with Memory</a></h3>
<p>It's the varying effects ("random effects") chapter! Multilevel models!</p>
<hr />
<blockquote>
<p>"Anterograde amnesia is bad for learning about the world." (page 399)</p>
</blockquote>
<hr />
<blockquote>
<p>"this prior is actually learned from the data." (pages 399-400)</p>
</blockquote>
<hr />
<blockquote>
<p>"When some individuals, locations, or times are sampled more than
others, multilevel models automatically cope with differing
uncertainty across these clusters. This prevents over-sampled
clusters from unfairly dominating inference." (page 400)</p>
</blockquote>
<p>This is a pretty cool property to have. The problem of data imbalance
is a challenge for many machine learning algorithms. Considering
multilevel models as a kind of solution is interesting. Not obvious
that it can be easily applied e.g. to vision models, but still, it's
interesting.</p>
<hr />
<blockquote>
<p>"When it comes to regression, multilevel regression deserves to be
the default approach. There are certainly contexts in which it would
be better to use an old-fashioned single-level model. But the
contexts in which multilevel models are superior are much more
numerous. It is better to begin to build a multilevel analysis, and
then realize it's unnecessary, than to overlook it." (page 400)</p>
</blockquote>
<p>Is this really the case? It would be neat to see an example where a
multilevel model isn't obviously needed but is better.</p>
<hr />
<p>Costs of multilevel models (page 400, paraphrase):</p>
<ul>
<li>new assumptions (priors on priors)</li>
<li>estimation challenges (requires MCMC)</li>
<li>hard to understand</li>
</ul>
<hr />
<p>Synonyms (page 401):</p>
<ul>
<li>multilevel model</li>
<li>hierarchical model</li>
<li>mixed effects model</li>
</ul>
<p>With parameters of multilevel models "most commonly known as random
effects". An endnote cites section 6 of Gelman's <a href="http://www.stat.columbia.edu/~gelman/research/published/banova7.pdf">Anova paper</a> but I
didn't find it as "entertaining" as promised. It does include the
origin of "varying effects" as a proposed better name than "random
effects":</p>
<blockquote>
<p>"We define effects (or coefficients) in a multilevel model as
<em>constant</em> if they are identical for all groups in a population and
<em>varying</em> if they are allowed to differ from group to group." (page
20 in Gelman)</p>
</blockquote>
<p>(A "group" could be an individual, depending on the nature of the
data.)</p>
<hr />
<p>I don't love that "hyperparameter" is used for parameters that are
learned from the data, even if they're a level up, because it
conflicts with the usual ML usage of "hyperparameter". It seems fair
that their priors are called hyperpriors, though.</p>
<hr />
<p>Reasons for using a Gaussian prior (page 403):</p>
<ol>
<li>convention (everybody does it)</li>
<li>pragmatism (easy to use/fit)</li>
<li>entropy (maxent if specifying only mean and variance)</li>
</ol>
<hr />
<blockquote>
<p>"Rethinking: Varying intercepts as over-dispersion. ... Compared to
a beta-binomial or gamma-Poisson model, a binomial or Poisson model
with a varying intercept on every observed outcome will often be
easier to estimate and easier to extend." (page 407)</p>
</blockquote>
<p>Oh my! A coefficient for every observation! Take that, frequentist
statisticians!</p>
<p>It would be interesting to see a direct comparison, using e.g.
beta-binomial on the one hand and multilevel on the other...</p>
<hr />
<p>Page 408 itemizes three perspectives:</p>
<ul>
<li>Complete pooling (one estimate shared by all groups)</li>
<li>No pooling (each group independently)</li>
<li>Partial pooling (multilevel model; shrinkage of group estimates)</li>
</ul>
<p>This in particular reminds me of
<a href="https://www.evanmiller.org/how-not-to-sort-by-average-rating.html">How Not To Sort By Average Rating</a>, which inspired in part my
<a href="https://planspace.org/2014/08/17/how-to-sort-by-average-rating/">How To Sort By Average Rating</a> advocating Laplace smoothing instead
of Wilson bounds.</p>
<p>If you use the grand average to determine the Laplace binomial values,
this is just like partial pooling via multilevel model, only much less
rigorous, less obviously extensible to multivariate settings, and far
easier.</p>
<p>I did a version of Laplace smoothing back when I was helping use
survey data to determine how well various medical facilities were
satisfying their patients. A ranking was desired, but ranking by raw
scores ("no pooling") made the most extreme scores nearly always
associated with the locations that had the fewest survey responses.</p>
<hr />
<blockquote>
<p>"Note that the priors are part of the model when we estimate, but
not when we simulate. Why? Because priors are epistemology, not
ontology. They represent the initial state of information of our
robot, not a statement about how nature chooses parameter values."
(page 409)</p>
</blockquote>
<hr />
<p>I enjoy that my preferred way of writing the logistic function is used
on page 411.</p>
<hr />
<blockquote>
<p>"Partial pooling isn't always better. It's just better on average in
the long run." (page 413)</p>
</blockquote>
<hr />
<blockquote>
<p>"As soon as you start trusting the machine, the machine will betray
your trust." (page 416)</p>
</blockquote>
<hr />
<blockquote>
<p>"If the individual units are exhcnagable—the index values could be
reassigned without changing the meaning of the model—then partial
pooling could help." (page 419)</p>
</blockquote>
<hr />
<blockquote>
<p>"Recall that HMC simulates the frictionless flow of a particle on a
surface." (page 420)</p>
</blockquote>
<hr />
<blockquote>
<p>"Algebra makes many things possible." (page 425)</p>
</blockquote>
<hr />
<p>Ah! Here's where he mentions Mister P: Multilevel Regression and
Post-stratification. (page 430)</p>
<hr />
<blockquote>
<p>"Selection on the outcome variable is one of the worst things that
can happen in statistics." (page 431)</p>
</blockquote>
<hr />
<h3><a name="ch14" href="#ch14">Chapter 14: Adventures in Covariance</a></h3>
<hr />
<blockquote>
<p>"... the general varying effects strategy: Any batch of parameters
with <em>exchangeable</em> index values can and probably should be pooled.
Exchangeable just means the index values have no true ordering,
because they are arbitrary labels." (page 435)</p>
</blockquote>
<hr />
<blockquote>
<p>"a way to pool information <em>across</em> parameter types—intercepts and
slopes" (page 436)</p>
</blockquote>
<hr />
<blockquote>
<p>"Finally, we'll circle back to causal inference and use our new
powers over covariance to go beyond the tools of Chapter 6
[The Haunted DAG &amp; the Causal Terror], introducing Instrumental
Variables." (pages 436-437)</p>
</blockquote>
<p>That doesn't reflect the actual order, which has IV in the middle of
the chapter...</p>
<ul>
<li>14.1 Varying slopes by construction</li>
<li>14.2 Advanced varying slopes</li>
<li>14.3 Instruments and causal designs</li>
<li>14.4 Social relations as correlated varying effects</li>
<li>14.5 Continuous categories and the Gaussian Process</li>
</ul>
<hr />
<blockquote>
<p>"In conventional multilevel models, the device that makes this
[modeling the joint population of intercepts and slopes by modeling
their covariance] possible is a joint multivariate Gaussian
distribution for all of the varying effects, both intercepts and
slopes." (page 437)</p>
</blockquote>
<hr />
<blockquote>
<p>"... we are always forced to analyze data with a model that is
misspecified: The true data-generating process is different than the
model." (page 441)</p>
</blockquote>
<hr />
<blockquote>
<p>"how you fit the model is part of the model." (page 447)</p>
</blockquote>
<hr />
<blockquote>
<p>"This [fewer effective than actual parameters] is a good example of
how varying effects adapt to the data. The overfitting risk is much
milder here than it would be with ordinary fixed effects." (page
451)</p>
</blockquote>
<p>Estimates are pooled/shrunk, so parameters don't fit "tightly" to the
data...</p>
<hr />
<blockquote>
<p>"Our interpretation of this experiment has not changed. These
chimpanzees simply did not behave in any consistently different way
in the partner treatments." (page 452)</p>
</blockquote>
<p>This chimpanzee example continues to be fairly dull, for the level of
complexity... I guess it's an example of sensitivity analysis, in a
sense, looking at it in multiple different ways? But it would be more
interesting if there were sometimes different (or any) results.</p>
<hr />
<blockquote>
<p>"There is an obvious cost to these non-centered forms: They look a
lot more confusing. Hard-to-read models and model code limit our
ability to share implementations with our colleagues, and sharing is
the principal goal of scientific computation." (page 454)</p>
</blockquote>
<hr />
<blockquote>
<p>"This last line ["Q cannot influence W except through E"] is
sometimes called the exclusion restriction. It cannot be strictly
tested, and it is often implausible."</p>
</blockquote>
<hr />
<p>The introduction to instrumental variables is based on the classic
<a href="https://www.jstor.org/stable/2937954">Does Compulsory School Attendance Affect Schooling and Earnings?</a></p>
<hr />
<blockquote>
<p>"Remember: With real data, you never know what the right answer is."
(page 456)</p>
</blockquote>
<hr />
<blockquote>
<p>"Instrumental variables are hard to understand. But there are some
excellent tools to help you. For example, the <code>dagitty</code> package
contains a function <code>instrumentalVariables</code> that will find
instruments, if they are present in a DAG." (page 459)</p>
</blockquote>
<hr />
<blockquote>
<p>"The instrumental variable model is often discussed with an
estimation procedure known as two-stage least squares (2SLS). This
procedure involves two linear regressions. The predicted values of
the first regression are fed into the second as dta, with
adjustments so that the standard errors make sense. Amazingly, when
the weather is nice, this procedure works. ... Some people mistake
2SLS for the model of instrumental variables. They are not the same
thing. Any model can be estimated through a number of different
procedures, each with its own benefits and costs." (page 460)</p>
</blockquote>
<hr />
<blockquote>
<p>"Instrumental variables are natural experiments that impersonate
randomized experiments." (page 460)</p>
</blockquote>
<hr />
<p>Discussing the front-door criterion, he points to a <a href="http://www.alexchinco.com/example-front-door-criterion/">blog post</a> and
<a href="https://www.aeaweb.org/articles?id=10.1257/pol.6.3.63">paper</a>.</p>
<hr />
<ul>
<li>Instrumental Variables</li>
<li>Front-Door Criterion</li>
<li>Regression Discontinuity</li>
</ul>
<hr />
<blockquote>
<p>"First, the correlation changes if we switch the A/B labels." (page
462)</p>
</blockquote>
<p>This is a little puzzling. Swapping axes shouldn't change correlation.</p>
<p>Ahhh... It doesn't swap the axes (unless there are only two
participants, or an even number that all pair off sufficiently
nicely, or the relabeling is otherwise sufficiently "nice"...</p>
<p>Why does this happen...</p>
<p>Some labeling is essentially arbitrary, so that "giver" and "receiver"
switch.</p>
<p>Consider a three-point graph. Our "point of view" node is attached to
two others. Label them however you want, the give/receive with us
remains the same. But when you switch those two, give/receive change
direction between them, and if they're not equal, that will send a
point over the diagonal and change the correlation.</p>
<p>Cool.</p>
<hr />
<blockquote>
<p>"Social Relations Model, or SRM" (page 462)</p>
</blockquote>
<hr />
<blockquote>
<p>"The general approach is known as Gaussian Process regression. This
name is unfortunately wholly uninformative about what it is for and
how it works." (page 468)</p>
</blockquote>
<p>I like the phrase the author uses to describe GP regression:
"continuous categories".</p>
<hr />
<blockquote>
<p>"phylogenic, or <a href="https://en.wikipedia.org/wiki/Patrocladogram">patristic</a>, distance." (page 481)</p>
</blockquote>
<hr />
<blockquote>
<p>"<a href="https://www.carlboettiger.info/2013/10/11/is-it-time-to-retire-pagels-lambda.html">Pagel's lambda</a>" (page 482)</p>
</blockquote>
<hr />
<blockquote>
<p>"Biologists tend to use phylogenies under a cloud of superstition
and fearful button pushing." (page 482)</p>
</blockquote>
<hr />
<blockquote>
<p>"Gaussian processes represent a practical method of extending the
varying effects strategy to continuous dimensions of similarity,
such as spatial, network, phylogenic, or any other abstract distance
between entities in the data." (page 485)</p>
</blockquote>
<hr />
<p>The <a href="https://mc-stan.org/docs/2_26/stan-users-guide/gaussian-process-regression.html">Stan documenation</a> has more on fitting GP regressions.</p>
<p>I think the thing that keeps this kind of GP from fitting the data
perfectly, as is <a href="https://planspace.org/20181226-gaussian_processes_are_not_so_fancy/">often the case</a> with GPs, is the eta term...</p>
<p>But really, why doesn't it fit the data perfectly? In the primates
example, there's a correlation matrix that clearly includes ones...</p>
<p>Oh! It's because the kernel matrix doesn't enter into the mean! ...
Well, that's the case for the primates example, anyway...</p>
<p>So the effect of just changing the covariance matrix is like this:</p>
<pre><code class="language-r">install.packages('mvtnorm')
library(mvtnorm)

data &lt;- c(1, 1, -1, -1)

# the mean here defaults to c(0, 0, 0, 0)

# "standard" 4d normal (identity for covariance matrix)
dmvnorm(data)
# 0.003428083

# covariance matrix that expects clustering
sigma &lt;- matrix(c(1, 0.5, 0, 0,
                  0.5, 1, 0, 0,
                  0, 0, 1, 0.5,
                  0, 0, 0.5, 1), nrow=4)
dmvnorm(data, sigma=sigma)
# 0.008902658 (more likely than when assuming independence)</code></pre>

<p>So when expecting clustering, you don't have to explain via the mean
as much...</p>
<p>For the primates example, he gets a significant coefficient on group
size, then he makes it go away via covariance, and then he uses a
different covariance and gets it back...</p>
<blockquote>
<p>"This [the second] model annihilates group size—the posterior mean
is almost zero and there is a lot of mass on both sides of zero. The
big change from the previous model suggests that there is a lot of
clustering of brain size in the tree and that this produces a
spurious relationship with group size, which also clusters in the
tree." (page 482)</p>
</blockquote>
<p>This is a little weird, isn't it? Just because the relationship
clusters in the tree, that doesn't mean there isn't a relationship,
right? There are at least two interpretations: (a) bigger groups and
bigger brains co-evolved, in this part of the tree, and (b) this part
of tree just happens to have both bigger groups and bigger brains. I
guess it's a potential confound?</p>
<p>In the final example he gets less covariance and the coefficient on
brain size comes back. Which model is more right? Doesn't seem very
obvious to me.</p>
<p>Ah: For the earlier example, it's a Poisson regression anyway, so it's
not obvious it could fit perfectly anyway, because of the link
function.</p>
<p>And the multi-variate normal bit has mean zero! It can only pull out
of the mean zero distribution with given covariance (which is
constrained by prior so variance isn't very big). So there's really no
chance of fitting perfectly.</p>
<hr />
<h3><a name="ch15" href="#ch15">Chapter 15: Missing Data and Other Opportunities</a></h3>
<ul>
<li>15.1. "Measurement error" (Oh! Like Nate Silver with polls!)</li>
<li>15.2. "Missing data"</li>
<li>15.3. "Categorical errors and discrete absences" (sum over options)</li>
</ul>
<hr />
<blockquote>
<p>"A big advantage of Bayesian inference is that it obviates the need
to be clever. ... There's no need to be clever when you can be
ruthless." (page 489)</p>
</blockquote>
<p>(The ruthlessness is ruthlessness in applying rules of conditional
probability.)</p>
<hr />
<blockquote>
<p>"And that's the real trick of the Bayesian approach: to apply
conditional probability in all places, for data and parameters."
(page 490)</p>
</blockquote>
<hr />
<blockquote>
<p>"Bayes is an honest partner. It is not afraid to hurt your
feelings." (page 491)</p>
</blockquote>
<hr />
<blockquote>
<p>"The big take home point for this section is that when you have a
distribution of values, don't reduce it down to a single value to
use in a regression." (page 497)</p>
</blockquote>
<hr />
<blockquote>
<p>"This [considering covariance between errors] is computationally
similar to how we did instrumental variable regression in the
previous chapter." (page 498)</p>
</blockquote>
<p>It sounds like instrumental variables are often (originally?) about
measurement error, but I don't completely understand how...</p>
<hr />
<blockquote>
<p>"Use your background knowledge to write down a generative model or
models, simulate data from these models in order to understand the
inferential risks, and design a statistical approach that can work
at least in theory." (page 499)</p>
</blockquote>
<hr />
<blockquote>
<p>"So there will be a posterior distribution for each missing value."
(page 505)</p>
</blockquote>
<p>In the model, when we <em>have</em> data, the distribution we enter is
interpreted as a <em>likelihood</em>, but when we <em>don't have</em> data (it's
missing), the distribution is interpreted as a prior... Neat!</p>
<hr />
<blockquote>
<p>"Implementing an imputation model can be done several ways. All of
the ways are a little awkward, because the locations of missing
values have to be respected, and that means plenty of index
management." (page 506)</p>
</blockquote>
<hr />
<blockquote>
<p>"Doing better is good." (page 511)</p>
</blockquote>
<hr />
<blockquote>
<p>"If you aren't comfortable dropping incomplete cases, then you
shouldn't be comfortable using multiple imputation either." (page
511)</p>
</blockquote>
<p>This is maybe a little strong; he's explaining here that multiple
imputation is an approximation of the technique he's advocating, after
all.</p>
<hr />
<p>He refs this paper, which has some missing data:
<a href="https://www.nature.com/articles/s41586-019-1043-4">Complex societies precede moralizing gods throughout world history</a>.</p>
<hr />
<blockquote>
<p>"HMC just doesn't do discrete variables." (page 516)</p>
</blockquote>
<hr />
<blockquote>
<p>"This all sounds too good to be true. It is all true. But
implementing it is not at all obvious." (page 517)</p>
</blockquote>
<hr />
<blockquote>
<p>"This chapter highlights the general principles of the book, that
effective statistical modeling requires both careful thought about
how the data were generated and delicate attention to numerical
algorithms. Neither can lift inference alone." (page 521)</p>
</blockquote>
<h3><a name="ch16" href="#ch16">Chapter 16: Generalized Linear Madness</a></h3>
<p>beyond GLMs</p>
<hr />
<ul>
<li>16.1. "Geometric people"</li>
<li>16.2. "Hidden minds and observed hehavior"</li>
<li>16.3. "Ordinary differential nut cracking"</li>
<li>16.4. "Population dynamics"</li>
</ul>
<hr />
<blockquote>
<p>"GLMs (or GLMMs)" (page  526)</p>
</blockquote>
<p>"GLMM" is "<a href="https://en.wikipedia.org/wiki/Generalized_linear_mixed_model">Generalized linear mixed model</a>" where "mixed" means
adding "random effects" in addition to "fixed effects" which means
doing something hierarchical, essentially. Varying effects, per
individual, group, etc.</p>
<hr />
<blockquote>
<p>"Useful mathematical modeling typically involves ridiculous
assumptions." (page 527)</p>
</blockquote>
<p>The 1985 "Consider a Spherical Cow: A Course in Environmental Problem
Solving" doesn't seem to be the origin of the <a href="https://en.wikipedia.org/wiki/Spherical_cow">spherical cow</a>, but
it's still fun.</p>
<p>Three cites here:</p>
<ul>
<li><a href="https://uberty.org/wp-content/uploads/2015/07/Levins-1966-Model_Building.pdf">The Strategy of Model Building in Population Biology</a></li>
<li><a href="https://www.journals.uchicago.edu/doi/abs/10.1086/341764">Using False Models to Elaborate Constraints on Processes: Blending Inheritance in Organic and Cultural Evolution</a>, which includes in its abstract: "Scientific models may be more useful for false assumptions they make than true ones when one is interested not in the fit of the model, but in the form of the residuals."</li>
<li><a href="https://www.taylorfrancis.com/chapters/edit/10.4324/9781315173726-14/models-stupid-need-paul-smaldino">Models Are Stupid, and We Need More of Them</a></li>
</ul>
<hr />
<blockquote>
<p>"One of the major advantages of having a scientifically inspired
model is that the parameters have meanings." (page 528)</p>
</blockquote>
<hr />
<blockquote>
<p>"The key, as always is to think generatively." (page 531)</p>
</blockquote>
<hr />
<p><a href="https://www.nature.com/articles/s41598-018-38392-8">Learning curves and teaching when acquiring nut-cracking in humans and chimpanzees</a></p>
<hr />
<blockquote>
<p>"no lag beyond one period makes any causal sense." (page 543)</p>
</blockquote>
<p>I think this is too strong, and he walks it back a little...</p>
<hr />
<ul>
<li><a href="http://www.scholarpedia.org/article/State_space_model">State Space Model (SSM)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Hidden_Markov_model">Hidden Markov Model (HMM)</a></li>
</ul>
<hr />
<blockquote>
<p>"Sometimes all this nonsense is okay, if all you care about is
forecasting. But often these models don't even make good forecasts,
because getting the future right often depends upon having a decent
causal model." (page 543)</p>
</blockquote>
<hr />
<p>This particular model is a famous one, the <a href="https://en.wikipedia.org/wiki/Lotka%E2%80%93Volterra_equations">Lotka-Volterra Model</a>.
It models simple predator-prey interactions and demonstrates several
important things about ecological dynamics. Lots can be proved about
it without using any data at all. For example, the population tends to
be unstable, cycling up and down like in Figure 16.6. This is
interesting because it suggests that, while nature is more
complicated, all that is necessary to see cyclical population dynamics
is captured in a stupidly simple model. (page 544)</p>
<hr />
<blockquote>
<p>"The hidden states are the causes. The measurements don't cause
anything." (page 549)</p>
</blockquote>
<hr />
<h3><a name="ch17" href="#ch17">Chapter 17: Horoscopes</a></h3>
<p>conclusion</p>
<hr />
<blockquote>
<p>"Thinking generatively—how the data could arise—solves many
problems. Many statistical problems cannot be solved with
statistics. All variables are measured with error. Conditioning on
variables creates as many problems as it solves. There is no
inference without assumption, but do not choose your assumptions for
the sake of inference. Build complex models one piece at a time. Be
critical. Be kind." (page 553)</p>
</blockquote>
<hr />
<blockquote>
<p>"Philosophers of science actually have a term, <em>the pessimistic
induction</em>, for the observation that because most science has been
wrong, most science is wrong." (page 554)</p>
</blockquote>
<hr />
<p><a href="https://journals.sagepub.com/doi/full/10.1177/1745691612459059">A Vast Graveyard of Undead Theories: Publication Bias and Psychological Science’s Aversion to the Null</a></p>
<hr />
<blockquote>
<p>"Even retracted papers continue to be cited." (page 555)</p>
</blockquote>
<p>This makes me wonder whether there could be some proactive system to
inform authors of such issues... "I see you cited this paper; did you
know?"</p>
<hr />
<blockquote>
<p>"The data and its analysis are the scientific product. The paper is
just an advertisement." (page 555)</p>
</blockquote>    </article>
    <footer>
      <hr />
<p><a name="contact"></a><form class="email_updates">
  <input type="email" name="email" placeholder="your@email.address" style="width: 49%" />
  <input type="submit" value="Get email updates" style="width: 49%" />
  <input type="hidden" name="_subject" value="planspace.org updates list" />
  <input type="text" name="_honey" style="display:none" />
  <input type="hidden" name="_captcha" value="false" />
</form></p>
<p><a id="back_link2" href="/">This site</a> also has <a href="/rss.xml">RSS</a>. You can connect with <a id="aaron_link2" href="/aaron/">me</a> via <a href="https://twitter.com/planarrowspace">Twitter</a>, <a href="https://www.linkedin.com/in/ajschumacher">LinkedIn</a>, <a href="https://github.com/ajschumacher">GitHub</a>, and <a href="mailto:aaron@planspace.org">email</a>.</p>

      <hr />
    </footer>

<!-- my weird stuff -->
<script src="/scripts/planspace.js"></script>

<!-- syntax highlighting -->
<script src="/scripts/highlight.pack.js"></script>
<script type="text/javascript">hljs.initHighlightingOnLoad();</script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-44351009-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- Disqus comments -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'planspace';
  (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

  </body>
</html>
